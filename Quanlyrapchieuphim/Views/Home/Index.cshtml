@model IEnumerable<Quanlyrapchieuphim.Models.Phim>
@{
    Layout = null;
}

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-Ry7Eu6WvRkjwS67Sv5Xu5z/6jnDqKC2wujv6J+mRlSffXgQk1vzlh1wUEmV3vXN6+LlZpvLSjPvZflDpBoW78w==" crossorigin="anonymous" />

</head>
<style>
    /* Thiết lập font chữ và màu sắc */
    .site-header {
        background-color: #333; /* Màu nền */
        color: #fff; /* Màu chữ */
        font-family: Tahoma, sans-serif; /* Font chữ */
    }

    .container {
        width: 90%; /* Độ rộng của container */
        margin: 0 auto; /* Căn giữa container */
    }

    .site-navigation {
        padding: 10px 0; /* Khoảng cách đệm */
    }

    .menu {
        list-style: none; /* Ẩn chấm tròn danh sách */
        margin: 0;
        padding: 0;
    }

    .custom-button1 {
        padding: 10px 20px; /* Khoảng cách đệm bên trong nút */
        font-size: 16px; /* Kích thước chữ */
        font-weight: bold; /* Đậm */
        text-transform: uppercase; /* Chuyển đổi chữ thành chữ in hoa */
        color: #fff; /* Màu chữ */
        background-color: #007bff; /* Màu nền */
        border: none; /* Xóa viền */
        border-radius: 5px; /* Bo tròn các góc */
        cursor: pointer; /* Biểu tượng con trỏ khi di chuột qua */
        transition: background-color 0.3s, transform 0.2s; /* Hiệu ứng hover */
    }

        .custom-button1:hover {
            background-color: #0056b3; /* Màu nền khi di chuột qua */
        }

        .custom-button1:active {
            transform: translateY(2px); /* Hiệu ứng khi click */
        }


    .menu li {
        display: inline-block; /* Hiển thị các mục menu trên cùng một dòng */
    }

        .menu li a {
            display: block; /* Biến các liên kết thành các hộp có thể nhấp */
            padding: 10px 20px; /* Khoảng cách đệm */
            text-decoration: none; /* Loại bỏ gạch chân */
            color: ghostwhite; /* Màu chữ */
            transition: background-color 0.3s; /* Hiệu ứng chuyển đổi màu nền */
        }

            .menu li a:hover {
                background-color: #555; /* Màu nền khi di chuột qua */
            }

    /* Kích thước và khoảng cách giữa các mục menu */
    .login-container {
        margin-left: 900px; /* Đẩy phần đăng nhập sang bên phải */
        margin-top: -60px;
    }

    .custom-button {
        display: inline-block;
        padding: 10px 20px;
        font-size: 16px;
        font-weight: bold;
        text-transform: uppercase;
        color: #fff;
        background-color: #007bff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s, transform 0.2s;
    }

        .custom-button:hover {
            background-color: #0056b3;
        }

        .custom-button:active {
            transform: translateY(2px);
        }




    .banner {
        position: relative;
        width: 100%;
        height: 200px; /* Điều chỉnh chiều cao của banner */
        background-color: #f0f0f0;
        overflow: hidden; /* Ẩn phần nội dung vượt ra ngoài */
    }

    .banner-content {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        color: #333;
    }


    .carousel-item img {
        object-fit: cover; /* Giữ nguyên vẹn hình ảnh không làm mờ */
        max-height: 500px; /* Điều chỉnh chiều cao tối đa của hình ảnh */
        width: auto; /* Tự động tính toán chiều rộng dựa trên chiều cao */
        margin: auto; /* Căn giữa hình ảnh */
    }

    /* Thiết lập kiểu cho phần chọn phim, chọn ngày và chọn xuất chiếu */
    .container select {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        margin-bottom: 10px;
        background-color: #fff;
        color: #555;
        font-size: 16px;
    }

    /* Thiết lập kiểu cho nút mua vé */
    .custom-button {
        display: inline-block;
        padding: 10px 20px;
        font-size: 16px;
        font-weight: bold;
        text-transform: uppercase;
        color: #fff;
        background-color: sandybrown;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s, transform 0.2s;
    }

        .custom-button:hover {
            background-color: #0056b3;
        }

        .custom-button:active {
            transform: translateY(2px);
        }

    .row {
        margin-bottom: -20px;
    }

    .option-container {
        display: flex;
        align-items: center;
    }

    .small-option {
        flex: 1;
        padding: 10px;
        margin-right: 10px;
        border: 1px solid #ccc; /* Thêm viền cho từng option nếu cần */
        border-radius: 5px; /* Bo tròn các góc của option nếu cần */
    }

    .custom-button {
        padding: 12px 30px; /* Điều chỉnh kích thước của nút */
        font-size: 10px;
        font-weight: bold;
        text-transform: uppercase;
        color: #fff;
        background-color: #007bff;
        border: none;
        border-radius: 0px;
        cursor: pointer;
        transition: background-color 0.3s, transform 0.2s;
        margin-bottom: 15px;
    }

        .custom-button:hover {
            background-color: #0056b3;
        }

        .custom-button:active {
            transform: translateY(2px);
        }


    #phim:disabled,
    #ngay:disabled,
    #xuatchieu:disabled,
    #mua-ve:disabled {
        background-color: #eee;
        cursor: not-allowed;
    }

    #mua-ve:enabled {
        background-color: #007bff;
    }

        #mua-ve:enabled:hover {
            background-color: #0056b3;
        }

    .small-option {
        padding: 0; /* Loại bỏ padding */
        margin: 0; /* Loại bỏ margin */
        border: none; /* Loại bỏ viền */
        background-color: transparent; /* Đặt màu nền là trong suốt */
        font-size: 50px; /* Kích thước chữ */
        height: 100px; /* Chiều cao của dropdown select */
        line-height: 30px; /* Dòng chữ sẽ được căn giữa theo chiều cao */
    }

    .movie-section {
        margin-left: 50px;
        display: flex;
        align-items: center;
    }

        .movie-section h3 {
            display: inline;
            margin-right: 20px; /* Khoảng cách giữa tiêu đề và danh sách */
        }

        .movie-section ul {
            display: inline;
            margin: 0; /* Loại bỏ margin mặc định của danh sách */
            padding: 0; /* Loại bỏ padding mặc định của danh sách */
            list-style: none; /* Ẩn dấu đầu dòng của danh sách */
        }


            .movie-section ul li {
                display: inline;
                margin-left: 10px; /* Khoảng cách giữa các mục trong danh sách */
            }

                .movie-section ul li:first-child {
                    margin-left: 0; /* Loại bỏ margin bên trái của mục đầu tiên */
                }

    .movie-section {
        position: relative;
    }

    #now-playing, #coming-soon {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
    }

    #now-playing {
        list-style-type: none;
        padding: 0;
        overflow: auto; /* Clear floats */
    }

        #now-playing li {
            float: left; /* Hiển thị các phần tử li cùng một hàng ngang */
            margin-right: 20px; /* Tạo khoảng cách giữa các phần tử li */
        }

            #now-playing li:last-child {
                margin-right: 0; /* Loại bỏ margin-right của phần tử li cuối cùng */
            }

            #now-playing li img {
                width: 300px; /* Tăng kích thước của hình ảnh */
                height: auto; /* Giữ tỷ lệ khung hình */
                display: block; /* Đảm bảo hình ảnh không bị tràn khỏi phần tử */
                border-radius: 10px; /* Bo tròn các góc của hình ảnh */
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Đổ bóng cho hình ảnh */
            }

            #now-playing li p {
                font-size: 16px; /* Tăng kích thước của văn bản */
            }

    .movie-section {
        margin-top: 20px; /* Thêm khoảng cách 20px ở trên */
        margin-bottom: 20px; /* Thêm khoảng cách 20px ở dưới */
        position: relative;
    }

    /* CSS cho danh sách phim đang chiếu và sắp chiếu */
    #now-playing,
    #coming-soon {
        margin-top: 20px; /* Thêm khoảng cách 20px ở trên */
    }

    .movie-section ul li p {
        font-weight: bold; /* In đậm cho tên phim */
    }


    .review-movie {
        margin-top: 700px;
    }



    .movie-corner {
        list-style: none;
        padding: 0;
        margin: 0;
    }

        .movie-corner li {
            display: inline-block;
            margin-right: 20px; /* Khoảng cách giữa các mục */
        }

            .movie-corner li:last-child {
                margin-right: 0; /* Loại bỏ khoảng cách phía sau mục cuối cùng */
            }
</style>
<script>
    $(document).ready(function () {
        $('#phim').change(function () {
            if ($(this).val() !== "") {
                $('#ngay').prop('disabled', false); // Kích hoạt dropdown list ngày khi có phim được chọn
            } else {
                $('#ngay').prop('disabled', true); // Khóa dropdown list ngày khi không có phim được chọn
                $('#xuatchieu').prop('disabled', true); // Khóa dropdown list xuất chiếu khi không có phim được chọn
                $('#mua-ve').prop('disabled', true); // Khóa nút "Mua vé" khi không có phim được chọn
            }
        });

        $('#ngay').change(function () {
            if ($(this).val() !== "") {
                $('#xuatchieu').prop('disabled', false); // Kích hoạt dropdown list xuất chiếu khi có ngày được chọn
            } else {
                $('#xuatchieu').prop('disabled', true); // Khóa dropdown list xuất chiếu khi không có ngày được chọn
                $('#mua-ve').prop('disabled', true); // Khóa nút "Mua vé" khi không có ngày được chọn
            }
        });

        $('#xuatchieu').change(function () {
            if ($(this).val() !== "") {
                $('#mua-ve').prop('disabled', false); // Kích hoạt nút "Mua vé" khi có xuất chiếu được chọn
            } else {
                $('#mua-ve').prop('disabled', true); // Khóa nút "Mua vé" khi không có xuất chiếu được chọn
            }
        });
    });

</script>
<!-- Thư viện CSS Bootstrap -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
<!-- Thư viện JavaScript jQuery và Bootstrap -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script>
    // Sử dụng jQuery
    $(document).ready(function () {
        // Hiển thị danh sách phim đang chiếu khi trang web được tải hoàn tất
        showNowPlaying();
    });

    function showNowPlaying() {
        document.getElementById('now-playing').style.display = 'block';
        document.getElementById('coming-soon').style.display = 'none';
    }

    function showComingSoon() {
        document.getElementById('now-playing').style.display = 'none';
        document.getElementById('coming-soon').style.display = 'block';
    }
</script>

<script>
    function showButtons(image) {
        // Lấy ra phần tử cha của hình ảnh
        var parent = image.parentNode;

        // Lấy ra phần tử chứa các button
        var buttons = parent.querySelector('.buttons');

        // Hiển thị các button
        buttons.style.display = 'block';
    }
</script>

<script>
    $('#phim').change(function () {
        var selectedPhimId = $(this).val(); // Lấy ID của phim được chọn
        $.ajax({
            url: '/Home/GetNgayChieu', // Thay thế ControllerName bằng tên thực tế của controller
            type: 'GET',
            data: { phimId: selectedPhimId },
            success: function (result) {
                // Xử lý kết quả trả về
                // Update dropdown list ngày chiếu với các giá trị từ result
            }
        });
    });

</script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        $(document).ready(function () {
            $('#phim').change(function () {
                var selectedPhimId = $(this).val(); // Lấy ID của phim được chọn
                if (selectedPhimId !== "") {
                    $.ajax({
                        url: '/Home/GetNgayChieu', // Đường dẫn đến action GetNgayChieu trong controller Home
                        type: 'GET',
                        data: { IDPhim: selectedPhimId }, // Truyền IDPhim vào action
                        success: function (result) {
                            // Xóa tất cả các option cũ trong dropdown ngày chiếu
                            $('#ngay').empty();
                            // Thêm các option mới từ kết quả trả về
                            $.each(result, function (index, ngay) {
                                $('#ngay').append($('<option></option>').val(ngay).text(ngay));
                            });
                        }
                    });
                } else {
                    // Nếu không chọn phim, xóa tất cả các option trong dropdown ngày chiếu
                    $('#ngay').empty();
                    $('#ngay').append($('<option></option>').val('').text('Chọn ngày'));
                }
            });
        });
    })
</script>

<script>
    $(document).ready(function () {
        $('#phim').change(function () {
            console.log("Dropdown list 'Chọn phim' đã thay đổi giá trị."); // Kiểm tra xem sự kiện thay đổi có hoạt động không
            if ($(this).val() !== "") {
                $('#ngay').prop('disabled', false); // Kích hoạt dropdown list "Chọn ngày" khi có phim được chọn
            } else {
                $('#ngay').prop('disabled', true); // Khóa dropdown list "Chọn ngày" khi không có phim được chọn
                $('#xuatchieu').prop('disabled', true); // Khóa dropdown list "Chọn xuất chiếu" khi không có phim được chọn
                $('#mua-ve').prop('disabled', true); // Khóa nút "Mua vé" khi không có phim được chọn
            }
        });
    });

</script>

<header class="site-header">

    <div class="container">
        <nav class="site-navigation">
            <div class="menu">
                <ul>
                    <li><a href="#booking">Đặt vé</a></li>
                    <li><a href="#movies">Phim</a></li>
                    <li><a href="#search">Tìm kiếm</a></li>
                    <li><a href="#cinema-corner">Góc điện ảnh</a></li>
                </ul>
            </div>
            <div class="login-container">

                @if (Session["TaiKhoan"] == null)
                {
                    <button> <a href="@Url.Action("Index", "Login")">Đăng nhập</a></button>
                }
                else
                {
                    <button>Xem Lịch sử Giao dịch</button>
                }


            </div>
        </nav>
    </div>
</header>


<body>

    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="~/Images/received_210359030158864.jpeg" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
                <img src="~/Images/20210116_170226.jpg" class="d-block w-100" alt="...">

            </div>
            <div class="carousel-item">
                <img src="~/Images/20210115_211641.jpg" class="d-block w-100" alt="...">
            </div>
          
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>




    <div class="option-container">
        <select class="form-control mb-2 small-option" id="phim">
            <option value="" disabled selected>1. Chọn phim</option>
           @Html.Action("PhimDangChieu","Home")
        </select>
        <select class="form-control mb-2 small-option" id="ngay" disabled>
            <option value="" disabled selected>2.Chọn ngày</option>

            <!-- Danh sách các ngày -->
        </select>
        <select class="form-control mb-2 small-option" id="xuatchieu" disabled>
            <option value="" disabled selected>3.Chọn xuất chiếu</option>
            <!-- Danh sách các xuất chiếu -->
        </select>
        <button class="custom-button mt-2" id="mua-ve" disabled>Mua vé nhanh</button>
    </div>

    <div class="main_content">
        <div class="movie-section">
            <h3>PHIM</h3>
            <ul>
                <li><a href="#" onclick="showNowPlaying()">Đang chiếu</a></li>
                <li><a href="#" onclick="showComingSoon()">Sắp chiếu</a></li>
            </ul>

            <!-- Danh sách phim đang chiếu -->
            <ul id="now-playing" style="display: none;">
                @Html.Action("PhimDangChieu", "Home")

            </ul>



            <!-- Danh sách phim sắp chiếu -->
            <ul id="coming-soon" style="display: none;">
                @Html.Action("PhimSapChieu", "Home")
            </ul>


        </div>

    </div>
    <div class="review-movie">
        <h3>GÓC ĐIỆN ẢNH</h3>
        <ul class="movie-corner">
            <li><a href="#" onclick="showNowPlaying()">Bình luận phim</a></li>
            <li><a href="#" onclick="showComingSoon()">Blog điện ảnh</a></li>
        </ul>

        <ul>
            <li>
                <img src="~/Images/20210115_211641.jpg" alt="Review" width="200" height="200">

                <p>[Review] Godzilla x Kong The New Empire: Khi Nhà Làm Phim “Chiều” Fan Hết Cỡ!</p>
            </li>
            <li>
                <img src="~/Images/20210115_211641.jpg" alt="Review" width="200" height="200">
                <p>
                    [Review] Exhuma Quật Mộ Trùng Ma: Bom Tấn Hàn Quốc Đáng Xem Nhất 2024?
                </p>
            </li>
        </ul>
    </div>






</body>

